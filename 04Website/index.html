<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Research Project</title>
    <link rel="stylesheet" href="./css/football.css" type="text/css" />
    <script src="./js/d3.js"></script>
    <script src="./js/d3.min.js"></script>
    <script src="./js/d3.tip.v0.6.3.js"></script>
    <script src="./js/topojson.v1.min.js"></script>
    <script src="./js/jquery.js"></script>
    <script src="./js/jquery-1.11.0.min.js"></script>
    <script src="./js/jquery-latest.min.js"></script>
</head>
<body>
<div class="partContainer">
    <h1>Introduction</h1>
    <p>
        "This project focus on exploring the reason of why England Premier League has attracted more foreign players than other famous football leagues
        La Liga, Bundesliga, French Ligue1 and Serie A. For providing sufficient evidence towards the study, the project team has scraped and
        collected the data of more than 160,000 worldwide football players and their birth places, nationalities, and the league they are playing for.
        <br>
        <br>
        Also, the project team focus on comparing these five biggest leagues in terms of their economic and cultural conditions, therefore, the data about official languages
        of every country, the colonization history, the GDP growth, the annual wage of players would also be collected and offered.
        In addition, the project team decided to set 1975 as an initial point of the data. Because, according to Matthew Taylor (2007), in his article "Football, Migration and Globalization: The Perspective of History",
        he explained that by the late 1980s, the 'new' migration in Europe initiated as a result of  the end of Cold War, the national borders were certainly opened
        which had an impact on the volume of football players exported from other areas.
        <br>
        <br>
        All the data would be provided as a visualized format, the project team believes that the visualization of various data could provide a deeper insight
        towards the football player migration movement"
    </p>
</div>
<div style="padding-left: 70px; margin-top: 20px" id="overview1">
    <div style="float: right; margin-right: 40px;">
        <p class="small-text" id="timer" >1975</p>
        <div>
            <input type="button" id="worldMapRun" value="Run" class="btn">
            <input type="button" id="worldMapReset" value="Reset" class="btn">
        </div>
    </div>
</div>
<div class="partContainer">
    <p>
        "The following geographical visualization shows the home countries of the players that playing for these 5 leagues. The size of the bubble chart
        is in direct proportion to the number of players."
    </p>
</div>
<div style="margin-left: 100px;" id="testworld">
</div>

<!--Economy-->
<div class="partContainer" style="margin-top: 80px;">
<h1 style="display: block;">Economy</h1>
    <h2>ANNUAL GDP GROWTH</h2>
    <p>
        "The area chart below shows the annual GDP growth from 1975 to 2017 among France, Germany, Italy, Spain and UK which have 5 most famous football leagues worldwide. The data comes from the World Development Indicators and the latest updated time was 21/9/2018"
    </p>
</div>
<div class="tableauPlaceholder" id="viz1537935560101">
    <noscript>
        <a href='#'>
            <img alt='GDP annual Growth ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;CD&#47;CDWG8KZ2M&#47;1_rss.png' style='border: none' />
        </a>
    </noscript>
        <object class='tableauViz'  style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='path' value='shared&#47;CDWG8KZ2M' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;CD&#47;CDWG8KZ2M&#47;1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='filter' value='publish=yes' />
        </object>
</div>
<script type='text/javascript'>
    var divElement = document.getElementById('viz1537935560101');
    var vizElement = divElement.getElementsByTagName('object')[0];
    vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
    var scriptElement = document.createElement('script');
    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
    vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>

<div class="partContainer" style="margin-top: 30px;">
    <h2 style="margin-top: 40px;">Annual GDP per Capita</h2>
    <p>
        "The second area chart below shows the annual GDP per person from 1975 to 2017 among France, Germany, Italy, Spain and UK. The data also comes from the World Development Indicators and the latest updated time was 21/9/2018"
    </p>
</div>
<div class="tableauPlaceholder" id='viz1537933317112'>
    <noscript>
        <a href='#'>
            <img alt='GDP per Capita ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;gd&#47;gdppercapita_2&#47;GDPperCapita&#47;1_rss.png' style='border: none' />
    </a>
    </noscript>
    <object class='tableauViz'  style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='gdppercapita_2&#47;GDPperCapita' />
            <param name='tabs' value='no' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;gd&#47;gdppercapita_2&#47;GDPperCapita&#47;1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='filter' value='publish=yes' />
    </object>
</div>
<script type='text/javascript'>
    var divElement = document.getElementById('viz1537933317112');
    var vizElement = divElement.getElementsByTagName('object')[0];
    vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
    var scriptElement = document.createElement('script');
    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
    vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>

<div class="partContainer" style="margin-top: 40px;">
    <h2>Wages</h2>
    <p>
        "The line graph below shows the annual football players average wage in the five most popular leagues: Premier League, La Liga, Ligue 1, Serie A and Bundesliga. The data comes from Statista(2018), however, because of these required data comes from various sources and there was not a professional institute to summarize these data collectively, the project team had to collect the data from existing literature reviews or newspapers. Hence, the time span of data is only from 2014 to 2017 thought it is possibly not convincing enough"
    </p>
</div>
<div class='tableauPlaceholder' id='viz1537676136200'>
    <noscript>
        <a href='#'>
            <img alt='average annual wage ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;av&#47;averageannualwage&#47;averageannualwage&#47;1_rss.png' style='border: none' />
        </a>
    </noscript>
    <object class='tableauViz'  style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' />
        <param name='site_root' value='' />
        <param name='name' value='averageannualwage&#47;averageannualwage' />
        <param name='tabs' value='no' />
        <param name='toolbar' value='yes' />
        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;av&#47;averageannualwage&#47;averageannualwage&#47;1.png' />
        <param name='animate_transition' value='yes' />
        <param name='display_static_image' value='yes' />
        <param name='display_spinner' value='yes' />
        <param name='display_overlay' value='yes' />
        <param name='display_count' value='yes' />
    </object></div>
<script type='text/javascript'>
    var divElement = document.getElementById('viz1537676136200');
    var vizElement = divElement.getElementsByTagName('object')[0];
    vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
    var scriptElement = document.createElement('script');
    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
    vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>


<!--Culture-->
<div class="partContainer" style="margin-top: 80px;">
    <h1 style="display: block;">Culture</h1>
    <h2>Colony</h2>
    <p>
        "The Alluvial diagram below shows the trend of global football players migration trend regarding the colonization situation. The left side presents the birth places of players which were colonized by Germany, UK, France, Spain, Italy and other countries. The right side is the countries of these 5 biggest leagues.
        However, because there is no colonization record after 1945, the project team decides to set the start point of time in 1900, because the effect of colonization is a long-term result."
    </p>
</div>
<div align="center">
    <svg width="847" height="520" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(0, 10)">
                <g class="links" fill="none" stroke-opacity="0.4">
                    <path d="M2,238.92647423703596C423.5,238.92647423703596,423.5,478.2892233892978,845,478.2892233892978" stroke-width="11.463071706227772" style="stroke: rgb(191, 105, 105);"></path>
                    <path d="M2,166.66818294599307C423.5,166.66818294599307,423.5,173.34298238359116,845,173.34298238359116" stroke-width="25.19642709453312" style="stroke: rgb(191, 105, 105);"></path>
                    <path d="M2,199.2337275659583C423.5,199.2337275659583,423.5,346.3567943098173,845,346.3567943098173" stroke-width="39.9346621453974" style="stroke: rgb(191, 105, 105);"></path><path d="M2,226.19799851128954C423.5,226.19799851128954,423.5,426.6797618063023,845,426.6797618063023" stroke-width="13.993879745265073" style="stroke: rgb(191, 105, 105);"></path><path d="M2,141.06236043338038C423.5,141.06236043338038,423.5,42.98072946819957,845,42.98072946819957" stroke-width="26.01521793069225" style="stroke: rgb(191, 105, 105);"></path><path d="M2,63.97733851625189C423.5,63.97733851625189,423.5,301.2302539078654,845,301.2302539078654" stroke-width="50.318418658506324" style="stroke: rgb(191, 191, 105);"></path><path d="M2,114.03523281779849C423.5,114.03523281779849,423.5,468.5381688859482,845,468.5381688859482" stroke-width="8.039037300471424" style="stroke: rgb(191, 191, 105);"></path><path d="M2,31.895624844926118C423.5,31.895624844926118,423.5,153.82226449425198,845,153.82226449425198" stroke-width="13.845008684145231" style="stroke: rgb(191, 191, 105);"></path><path d="M2,99.57613100653391C423.5,99.57613100653391,423.5,409.24323877264084,845,409.24323877264084" stroke-width="20.879166322057728" style="stroke: rgb(191, 191, 105);"></path><path d="M2,12.486560251426821C423.5,12.486560251426821,423.5,17.486560251426766,845,17.486560251426766" stroke-width="24.97312050285336" style="stroke: rgb(191, 191, 105);"></path><path d="M2,475.55247704904457C423.5,475.55247704904457,423.5,490.7385658754445,845,490.7385658754445" stroke-width="5.5454470267140845" style="stroke: rgb(105, 191, 105);"></path><path d="M2,418.8139938797451C423.5,418.8139938797451,423.5,230.11868331817058,845,230.11868331817058" stroke-width="71.9047225208833" style="stroke: rgb(105, 191, 105);"></path><path d="M2,459.58605574394164C423.5,459.58605574394164,423.5,383.9095194772973,845,383.9095194772973" stroke-width="9.639401207509717" style="stroke: rgb(105, 191, 105);"></path><path d="M2,468.592754941692C423.5,468.592754941692,423.5,450.25721611115716,845,450.25721611115716" stroke-width="8.373997187991067" style="stroke: rgb(105, 191, 105);"></path><path d="M2,379.12124720866746C423.5,379.12124720866746,423.5,133.1221569762634,845,133.1221569762634" stroke-width="7.48077082127202" style="stroke: rgb(105, 191, 105);"></path><path d="M2,363.40832023819365C423.5,363.40832023819365,423.5,485.99330080224956,845,485.99330080224956" stroke-width="3.9450831196757914" style="stroke: rgb(105, 191, 191);"></path><path d="M2,332.164006285667C423.5,332.164006285667,423.5,190.0537589942933,845,190.0537589942933" stroke-width="8.225126126871226" style="stroke: rgb(105, 191, 191);"></path><path d="M2,342.6594160946158C423.5,342.6594160946158,423.5,372.7069721280292,845,372.7069721280292" stroke-width="12.765693491026383" style="stroke: rgb(105, 191, 191);"></path><path d="M2,355.23902075924235C423.5,355.23902075924235,423.5,439.8734595980482,845,439.8734595980482" stroke-width="12.39351583822678" style="stroke: rgb(105, 191, 191);"></path><path d="M2,291.35472665619056C423.5,291.35472665619056,423.5,92.68505499958655,845,92.68505499958655" stroke-width="73.39343313208171" style="stroke: rgb(105, 191, 191);"></path><path d="M2,489.18120916384066C423.5,489.18120916384066,423.5,494.2184269291208,845,494.2184269291208" stroke-width="1.4142750806384914" style="stroke: rgb(105, 105, 191);"></path><path d="M2,488.45546274088144C423.5,488.45546274088144,423.5,454.4628235877926,845,454.4628235877926" stroke-width="0.0372177652799603" style="stroke: rgb(105, 105, 191);"></path><path d="M2,488.3438094450416C423.5,488.3438094450416,423.5,136.88115126953937,845,136.88115126953937" stroke-width="0.0372177652799603" style="stroke: rgb(105, 105, 191);"></path><path d="M2,488.3996360929615C423.5,488.3996360929615,423.5,388.76643784633205,845,388.76643784633205" stroke-width="0.0744355305599206" style="stroke: rgb(105, 105, 191);"></path>
                    <path d="M2,499.96278223471984C423.5,499.96278223471984,423.5,494.96278223472,845,494.96278223472" stroke-width="0.0744355305599206" style="stroke: rgb(191, 105, 191);"></path>
                    <path d="M2,499.90695558679994C423.5,499.90695558679994,423.5,454.50004135307256,845,454.50004135307256" stroke-width="0.0372177652799603" style="stroke: rgb(191, 105, 191);"></path>
                </g>
            <g class="nodes" font-family="Arial, Helvetica" font-size="10"><g>
                <rect x="0" y="375.38086179803145" height="102.94433876437016" width="2" fill="#000"></rect>
                <text x="8" y="426.85303118021653" dy="0.35em" text-anchor="start">France</text>
            </g>
                <g><rect x="0" y="128.05475146803425" height="116.60325862211545" width="2" fill="#000"></rect>
                    <text x="8" y="186.35638077909198" dy="0.35em" text-anchor="start">Germany</text>
                </g>
                <g><rect x="0" y="499.88834670415997" height="0.11165329583991479" width="2" fill="#000"></rect><text x="8" y="499.94417335207993" dy="0.35em" text-anchor="start">Italy</text></g><g><rect x="0" y="1.4210854715202004e-13" height="118.05475146803411" width="2" fill="#000"></rect><text x="8" y="59.0273757340172" dy="0.35em" text-anchor="start">Other Countries</text></g><g><rect x="0" y="488.3252005624016" height="1.5631461417583523" width="2" fill="#000"></rect><text x="8" y="489.1067736332808" dy="0.35em" text-anchor="start">Spain</text></g><g><rect x="0" y="254.6580100901497" height="110.72285170788172" width="2" fill="#000"></rect><text x="8" y="310.01943594409056" dy="0.35em" text-anchor="start">United Kingdom</text></g><g><rect x="845" y="146.89976015217937" height="119.17128442643289" width="2" fill="#000"></rect><text x="839" y="206.48540236539583" dy="0.35em" text-anchor="end">France</text></g><g><rect x="845" y="276.07104457861226" height="112.73261103299973" width="2" fill="#000"></rect><text x="839" y="332.43735009511215" dy="0.35em" text-anchor="end">Germany</text></g><g><rect x="845" y="398.803655611612" height="55.714994624100484" width="2" fill="#000"></rect><text x="839" y="426.66115292366226" dy="0.35em" text-anchor="end">Italy</text></g><g><rect x="845" y="464.51865023571247" height="30.481349764287472" width="2" fill="#000"></rect><text x="839" y="479.7593251178562" dy="0.35em" text-anchor="end">Spain</text></g><g><rect x="845" y="5.000000000000085" height="131.89976015217928" width="2" fill="#000"></rect><text x="839" y="70.94988007608973" dy="0.35em" text-anchor="end">United Kingdom</text>
                </g>
            </g>
        </g>
    </svg>
</div>
<div class="partContainer" style="margin-top: 40px;">
    <h2>Language</h2>
    <p>
        "The following packed bubbles shows the statistics about the national language of the foreign players' home countries who used to play for the clubs in these five leagues from 1975 to 2017.
        The data about official languages of different countries comes from Wikipedia"
    </p>
</div>
<div class='tableauPlaceholder' id='viz1538628785731'>
    <noscript>
        <a href='#'>
            <img alt='National language of players home countries ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;La&#47;Language_10&#47;Nationallanguageofplayershomecountries&#47;1_rss.png' style='border: none' />
        </a>
    </noscript>
    <object class='tableauViz'  style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' /> <param name='site_root' value='' />
        <param name='name' value='Language_10&#47;Nationallanguageofplayershomecountries' />
        <param name='tabs' value='no' /><param name='toolbar' value='yes' />
        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;La&#47;Language_10&#47;Nationallanguageofplayershomecountries&#47;1.png' />
        <param name='animate_transition' value='yes' />
        <param name='display_static_image' value='yes' />
        <param name='display_spinner' value='yes' />
        <param name='display_overlay' value='yes' />
        <param name='display_count' value='yes' /></object>
</div>
<script type='text/javascript'>
    var divElement = document.getElementById('viz1538628785731');
    var vizElement = divElement.getElementsByTagName('object')[0];
    vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
    var scriptElement = document.createElement('script');
    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
    vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>
<div class="partContainer" style="margin-top: 80px;">
    <h2>Future Work</h2>
    <p>
        "The line graph below shows the annual football players average wage in the five most popular leagues: Premier League, La Liga, Ligue 1, Serie A and Bundesliga. The data comes from Statista(2018), however, because of these required data comes from various sources and there was not a professional institute to summarize these data collectively, the project team had to collect the data from existing literature reviews or newspapers. Hence, the time span of data is only from 2014 to 2017 thought it is possibly not convincing enough"
    </p>
</div>
<div class="footer">
        <table class="stuInform">
            <tr>
                <td style="width: 20%">
                    <p class="c1">Student ID:</p>
                </td>
                <td style="width: 24%">
                    <p class="c2">12482004</p>
                </td>
                <td style="width: 13%">
                    <p class="c1">Name:</p>
                </td>
                <td>
                    <p class="c2">Jinwei Li</p>
                </td>
            </tr>
            <tr>
                <td style="width: 20%">
                    <p class="c1">Student ID:</p>
                </td>
                <td style="width: 24%">
                    <p class="c2">13001870</p>
                </td>
                <td style="width: 13%">
                    <p class="c1">Name:</p>
                </td>
                <td>
                    <p class="c2">Jianni Hu</p>
                </td>
            </tr>
        </table>
</div>

<script>

    //Overview
    d3.json("json/world-110m2.json", function(error, map) {


        var width = 920,
            height = 600;


        var sliceCounter=[1974,0,1975,44,1976,82,1977,119,1978,149,1979,187,1980,234,1981,280,1982,325,1983,373,
                                        1984,425,1985,474,1986,526,1987,577,1988,634,1989,699,1990,766,1991,833,
                                        1992,905,1993,983,1994,1061,1995,1138,1996,1219,1997,1307,1998,1401,
                                        1999,1499,2000,1602,2001,1701,2002,1799,2003,1897,2004,2001,2005,2101,
                                        2006,2205,2007,2304,2008,2405,2009,2509,2010,2613,2011,2718,2012,2819,
                                        2013,2921,2014,3027,2015,3131,2016,3232,2017,3334];

        var Counter = 1;
        var reset = "false"


        // load and display the cities
        d3.csv("./data/animations.csv", function(error, data) {


            var projection = d3.geo.mercator()
                .scale(165)
                .translate([width / 2, height / 2])
                .rotate([0, 0])
                .center([20, 25])



            var svg = d3.select("body").select("#overview1").append("svg")
                .attr("width", width)
                .attr("height", height)

            var g = svg.append("g");

            g.append("path")
                .datum(topojson.feature(map, map.objects.countries))
                .attr("d", d3.geo.path().projection(projection))
                .attr("stroke","#fff")
                .attr("stroke-width",0.2);

            var reset = "false";

            function europeTime(k)
            {

                var svg = d3.select("body").select("#overview1").select("svg")
                    .attr("width", width)
                    .attr("height", height);


                var g = svg.append("g");


                var datanew = data.slice(sliceCounter[k], sliceCounter[k + 2])

                d3.select("body").select("#timer")
                    .data(datanew)
                    .text(function(d)
                    {
                        return (d.Year)
                    });

                g.selectAll("circle")
                    .data(datanew)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d) {
                        return projection([d.longitude, d.latitude])[0];
                    })
                    .attr("cy", function(d) {
                        return projection([d.longitude, d.latitude])[1];
                    })
                    .attr("r", 5)
                    .attr("fill", "#4CAF50")
                    .attr("opacity", 0.5)



                if (sliceCounter[k] < 3334)
                {
                    setTimeout(
                        function() {
                            if (reset == "false") {
                                k = k + 2;
                                europeTime(k)
                            } else {
                                Counter = 0;
                            }
                        }, 150)

                }

            }

            d3.select('#worldMapRun').on('click', function() {
                reset = "false";
                europeTime(1)
            });

            d3.select('#worldMapReset').on('click', function() {
                reset = "true";
                d3.select("body").select("#overview1").selectAll("circle").remove();
                Counter = 0;
                d3.select("body").select("#timer")
                    .style('font-size', function(d) {
                        return "30px"
                    })
                    .text("1974")
            });

        });

    })

    //overview
    d3.json("./json/world-110m2.json", function(error, map) {

        var width = 1100,
            height = 600;


        var tip = d3.tip ()
            .attr('class', 'd3-tip')
            .offset([-10, 0])
            .html(function(d) {
                return "<div style='color:white; background: #36D7B7; opacity: 0.9; padding: 10px;'>" + "Birth Country: " + d.Country + "<br>Number: " + d.Number +"</div>";
            });


        var projection = d3.geo.mercator()
            .scale(172)
            .translate([width / 2, height / 2])
            .rotate([0, 0])
            .center([10, 25])

        var svg = d3.select("body").select("#testworld").append("svg")
            .attr("width", width)
            .attr("height", height);


        var g = svg.append("g");


        g.append("path")
            .datum(topojson.feature(map, map.objects.countries))
            .attr("d", d3.geo.path().projection(projection))
            .attr("stroke","#fff")
            .attr("stroke-width",0.2);

        svg.call(tip);

        // load data
        d3.csv("./data/overview.csv", function(error, data) {
            g.selectAll("circle")
                .data(data)
                .enter()
                .append("circle")
                .attr("cx", function(d) {
                    return projection([d.longitude, d.latitude])[0];
                })
                .attr("cy", function(d) {
                    return projection([d.longitude, d.latitude])[1];
                })
                .attr("r", function(d) {
                    return (d.Number * 0.02)
                })
                .attr("fill", function(d) {
                    return "#36D7B7"
                })
                .attr("opacity", 0.80)
                .on("mouseover", tip.show)
                .on("mouseout", tip.hide);
        });

    })
</script>
</body>
</html>