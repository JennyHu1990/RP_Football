<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Research Project</title>
  <link rel="stylesheet" href="./css/football.css" type="text/css" />
  <script src="./js/d3.v3.min.js"></script>
  <script src="./js/d3.tip.v0.6.3.js"></script>
  <script src="./js/topojson.v1.min.js"></script>
  <script src="./js/jquery.js"></script>
  <script src="./js/jquery-1.11.0.min.js"></script>
  <script src="./js/jquery-latest.min.js"></script>
</head>
<body>
<div class="partContainer">
  <h1>Introduction</h1>
  <p>
    "This project focus on exploring the reason of why England Premier League has attracted more foreign players than other famous football leagues
    La Liga, Bundesliga, French Ligue1 and Serie A. For providing sufficient evidence towards the study, the project team has scraped and
    collected the data of more than 160,000 worldwide football players and their birth places, nationalities, and the league they are playing for.
    <br>
    <br>
    Also, the project team focus on comparing these five biggest leagues in terms of their economic and cultural conditions, therefore, the data about official languages
    of every country, the colonization history, the GDP growth, the annual wage of players would also be collected and offered.
    In addition, the project team decided to set 1975 as an initial point of the data. Because, according to Matthew Taylor (2007), in his article "Football, Migration and Globalization: The Perspective of History",
    he explained that by the late 1980s, the 'new' migration in Europe initiated as a result of  the end of Cold War, the national borders were certainly opened
    which had an impact on the volume of football players exported from other areas.
    <br>
    <br>
    All the data would be provided as a visualized format, the project team believes that the visualization of various data could provide a deeper insight
    towards the football player migration movement"
  </p>
</div>
<div class="visualization_Container" id="overview1">
  <div style="float: right;margin-right: 8%">
    <p class="small-text" id="timer" >1975</p>
    <div>
      <input type="button" id="worldMapRun" value="Run" class="btn">
      <input type="button" id="worldMapReset" value="Reset" class="btn">
    </div>
  </div>
</div>
<div class="visualization_Container" id="overview2"></div>
<!--Economy-->
<!--<div class="partContainer">-->
<!--<h1 style="display: block;">Economy</h1>-->
<!--<h2>ANNUAL GDP GROWTH</h2>-->
<!--<p>-->
<!--"The area chart below shows the annual GDP growth from 1975 to 2017 among France, Germany, Italy, Spain and UK which have 5 most famous football leagues worldwide. The data comes from the World Development Indicators and the latest updated time was 21/9/2018"-->
<!--</p>-->


<!--</div>-->
<!--<div class="tableauPlaceholder" id="viz1537935560101">-->
<!--<noscript>-->
<!--<a href='#'>-->
<!--<img alt='GDP annual Growth ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;CD&#47;CDWG8KZ2M&#47;1_rss.png' style='border: none' />-->
<!--</a>-->
<!--</noscript>-->
<!--<object class='tableauViz'  style='display:none;'>-->
<!--<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />-->
<!--<param name='embed_code_version' value='3' />-->
<!--<param name='path' value='shared&#47;CDWG8KZ2M' />-->
<!--<param name='toolbar' value='yes' />-->
<!--<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;CD&#47;CDWG8KZ2M&#47;1.png' />-->
<!--<param name='animate_transition' value='yes' />-->
<!--<param name='display_static_image' value='yes' />-->
<!--<param name='display_spinner' value='yes' />-->
<!--<param name='display_overlay' value='yes' />-->
<!--<param name='display_count' value='yes' />-->
<!--<param name='filter' value='publish=yes' />-->
<!--</object>-->
<!--</div>-->
<!--<script type='text/javascript'>-->
<!--var divElement = document.getElementById('viz1537935560101');-->
<!--var vizElement = divElement.getElementsByTagName('object')[0];-->
<!--vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';-->
<!--var scriptElement = document.createElement('script');-->
<!--scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';-->
<!--vizElement.parentNode.insertBefore(scriptElement, vizElement);-->
<!--</script>-->

<!--<div class="partContainer" style="margin-top: 30px;">-->
<!--<h2>Annual GDP per Capita</h2>-->
<!--<p>-->
<!--"The second area chart below shows the annual GDP per person from 1975 to 2017 among France, Germany, Italy, Spain and UK. The data also comes from the World Development Indicators and the latest updated time was 21/9/2018"-->
<!--</p>-->
<!--</div>-->
<!--<div class="tableauPlaceholder" id='viz1537933317112'>-->
<!--<noscript>-->
<!--<a href='#'>-->
<!--<img alt='GDP per Capita ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;gd&#47;gdppercapita_2&#47;GDPperCapita&#47;1_rss.png' style='border: none' />-->
<!--</a>-->
<!--</noscript>-->
<!--<object class='tableauViz'  style='display:none;'>-->
<!--<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />-->
<!--<param name='embed_code_version' value='3' />-->
<!--<param name='site_root' value='' />-->
<!--<param name='name' value='gdppercapita_2&#47;GDPperCapita' />-->
<!--<param name='tabs' value='no' />-->
<!--<param name='toolbar' value='yes' />-->
<!--<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;gd&#47;gdppercapita_2&#47;GDPperCapita&#47;1.png' />-->
<!--<param name='animate_transition' value='yes' />-->
<!--<param name='display_static_image' value='yes' />-->
<!--<param name='display_spinner' value='yes' />-->
<!--<param name='display_overlay' value='yes' />-->
<!--<param name='display_count' value='yes' />-->
<!--<param name='filter' value='publish=yes' />-->
<!--</object>-->
<!--</div>-->
<!--<script type='text/javascript'>-->
<!--var divElement = document.getElementById('viz1537933317112');-->
<!--var vizElement = divElement.getElementsByTagName('object')[0];-->
<!--vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';-->
<!--var scriptElement = document.createElement('script');-->
<!--scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';-->
<!--vizElement.parentNode.insertBefore(scriptElement, vizElement);-->
<!--</script>-->

<!--<div class="partContainer" style="margin-top: 30px;">-->
<!--<h2>Wages</h2>-->
<!--<p>-->
<!--"The line graph below shows the annual football players average wage in the five most popular leagues: Premier League, La Liga, Ligue 1, Serie A and Bundesliga. The data comes from Statista(2018), however, because of these required data comes from various sources and there was not a professional institute to summarize these data collectively, the project team had to collect the data from existing literature reviews or newspapers. Hence, the time span of data is only from 2014 to 2017 thought it is possibly not convincing enough"-->
<!--</p>-->
<!--</div>-->
<!--<div class='tableauPlaceholder' id='viz1537676136200'>-->
<!--<noscript>-->
<!--<a href='#'>-->
<!--<img alt='average annual wage ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;av&#47;averageannualwage&#47;averageannualwage&#47;1_rss.png' style='border: none' />-->
<!--</a>-->
<!--</noscript>-->
<!--<object class='tableauViz'  style='display:none;'>-->
<!--<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />-->
<!--<param name='embed_code_version' value='3' />-->
<!--<param name='site_root' value='' />-->
<!--<param name='name' value='averageannualwage&#47;averageannualwage' />-->
<!--<param name='tabs' value='no' />-->
<!--<param name='toolbar' value='yes' />-->
<!--<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;av&#47;averageannualwage&#47;averageannualwage&#47;1.png' />-->
<!--<param name='animate_transition' value='yes' />-->
<!--<param name='display_static_image' value='yes' />-->
<!--<param name='display_spinner' value='yes' />-->
<!--<param name='display_overlay' value='yes' />-->
<!--<param name='display_count' value='yes' />-->
<!--</object></div>-->
<!--<script type='text/javascript'>-->
<!--var divElement = document.getElementById('viz1537676136200');-->
<!--var vizElement = divElement.getElementsByTagName('object')[0];-->
<!--vizElement.style.width='80%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';-->
<!--var scriptElement = document.createElement('script');-->
<!--scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';-->
<!--vizElement.parentNode.insertBefore(scriptElement, vizElement);-->
<!--</script>-->


<!--Culture-->
<div class="partContainer">
  <h1 style="display: block;">Culture</h1>
  <h2>Colony</h2>
  <p>
    fsdkfjklasdjfaksldfjlkas;djfkalsdf sakfjksa sakjfkasdjfaf
  </p>
</div>
<!--<div id="immigrationvisualization" align="center">-->
<!--<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>-->
<!--<svg width="847" height="420" xmlns="http://www.w3.org/2000/svg">-->
<!--<g transform="translate(0, 10)">-->
<!--<g class="links" fill="none" stroke-opacity="0.3">-->
<!--<path d="M1,174.53357225677246C423.5,174.53357225677246,423.5,359.1908225290748,846,359.1908225290748" stroke-width="42.05052528020801" style="stroke: rgb(191, 105, 105);"></path>-->
<!--<path d="M1,93.54449949053092C423.5,93.54449949053092,423.5,202.06668774814662,846,202.06668774814662" stroke-width="34.177997962123605" style="stroke: rgb(191, 105, 105);"></path><path d="M1,58.321211482379425C423.5,58.321211482379425,423.5,120.6584448894981,846,120.6584448894981" stroke-width="36.2685780541794" style="stroke: rgb(191, 105, 105);"></path><path d="M1,132.0709040441306C423.5,132.0709040441306,423.5,288.84473490038994,846,288.84473490038994" stroke-width="42.87481114507572" style="stroke: rgb(191, 105, 105);"></path><path d="M1,20.093461227644877C423.5,20.093461227644877,423.5,30.093461227644905,846,30.093461227644905" stroke-width="40.1869224552897" style="stroke: rgb(191, 105, 105);"></path><path d="M1,289.039738589649C423.5,289.039738589649,423.5,384.6361687923824,846,384.6361687923824" stroke-width="3.6794209620182006" style="stroke: rgb(191, 179, 105);"></path><path d="M1,278.664488247075C423.5,278.664488247075,423.5,227.64344190295498,846,227.64344190295498" stroke-width="8.087558413267278" style="stroke: rgb(191, 179, 105);"></path><path d="M1,268.21158778679603C423.5,268.21158778679603,423.5,161.35307965285847,846,161.35307965285847" stroke-width="12.818242507290678" style="stroke: rgb(191, 179, 105);"></path><path d="M1,284.9541477811743C423.5,284.9541477811743,423.5,319.22982326692664,846,319.22982326692664" stroke-width="4.491760654931309" style="stroke: rgb(191, 179, 105);"></path><path d="M1,257.62727943501636C423.5,257.62727943501636,423.5,62.37799093496369,846,62.37799093496369" stroke-width="8.350374196268579" style="stroke: rgb(191, 179, 105);"></path><path d="M1,242.16190576578464C423.5,242.16190576578464,423.5,381.5062717402761,846,381.5062717402761" stroke-width="2.580373142194582" style="stroke: rgb(130, 191, 105);"></path><path d="M1,231.9479287445978C423.5,231.9479287445978,423.5,221.37767471276487,846,221.37767471276487" stroke-width="4.443975967112891" style="stroke: rgb(130, 191, 105);"></path><path d="M1,221.65032851972867C423.5,221.65032851972867,423.5,146.86834615790048,846,146.86834615790048" stroke-width="16.15122448262535" style="stroke: rgb(130, 191, 105);"></path><path d="M1,237.5208179614208C423.5,237.5208179614208,423.5,313.63304170619443,846,313.63304170619443" stroke-width="6.701802466533151" style="stroke: rgb(130, 191, 105);"></path><path d="M1,209.56677558764616C423.5,209.56677558764616,423.5,54.19486314605958,846,54.19486314605958" stroke-width="8.015881381539652" style="stroke: rgb(130, 191, 105);"></path><path d="M1,378.5724324514248C423.5,378.5724324514248,423.5,388.63216331119764,846,388.63216331119764" stroke-width="1.7799796212360774" style="stroke: rgb(105, 191, 154);"></path><path d="M1,363.4545518428727C423.5,363.4545518428727,423.5,245.86732721970424,846,245.86732721970424" stroke-width="23.080004216295983" style="stroke: rgb(105, 191, 154);"></path><path d="M1,350.3675204666034C423.5,350.3675204666034,423.5,173.40676715505447,846,173.40676715505447" stroke-width="3.0940585362425774" style="stroke: rgb(105, 191, 154);"></path><path d="M1,376.3384982959138C423.5,376.3384982959138,423.5,326.7977232001686,846,326.7977232001686" stroke-width="2.687888689786023" style="stroke: rgb(105, 191, 154);"></path><path d="M1,347.6199009170444C423.5,347.6199009170444,423.5,91.3116194090159,846,91.3116194090159" stroke-width="2.401180562875514" style="stroke: rgb(105, 191, 154);"></path><path d="M1,335.78616352201254C423.5,335.78616352201254,423.5,387.10902638698553,846,387.10902638698553" stroke-width="1.266294227188082" style="stroke: rgb(105, 154, 191);"></path><path d="M1,329.85488914655144C423.5,329.85488914655144,423.5,233.0072731105724,846,233.0072731105724" stroke-width="2.6401040019676048" style="stroke: rgb(105, 154, 191);"></path><path d="M1,326.48606865535294C423.5,326.48606865535294,423.5,169.8109693967185,846,169.8109693967185" stroke-width="4.09753698042936" style="stroke: rgb(105, 154, 191);"></path><path d="M1,333.16397877797687C423.5,333.16397877797687,423.5,323.4647412248339,846,323.4647412248339" stroke-width="3.978075260883314" style="stroke: rgb(105, 154, 191);"></path><path d="M1,312.6583746178982C423.5,312.6583746178982,423.5,78.33210358033806,846,78.33210358033806" stroke-width="23.557851094480167" style="stroke: rgb(105, 154, 191);"></path><path d="M1,389.7371842169987C423.5,389.7371842169987,423.5,389.7491303889532,846,389.7491303889532" stroke-width="0.4539545342749728" style="stroke: rgb(130, 105, 191);"></path><path d="M1,389.5042338638839C423.5,389.5042338638839,423.5,328.1476406310389,846,328.1476406310389" stroke-width="0.011946171954604547" style="stroke: rgb(130, 105, 191);"></path><path d="M1,389.46839534802007C423.5,389.46839534802007,423.5,92.51818277643096,846,92.51818277643096" stroke-width="0.011946171954604547" style="stroke: rgb(130, 105, 191);"></path><path d="M1,389.486314605952C423.5,389.486314605952,423.5,174.96574259513037,846,174.96574259513037" stroke-width="0.023892343909209093" style="stroke: rgb(130, 105, 191);"></path><path d="M1,399.9880538280454C423.5,399.9880538280454,423.5,389.9880538280453,846,389.9880538280453" stroke-width="0.023892343909209093" style="stroke: rgb(191, 105, 179);"></path>-->
<!--<path d="M1,399.9701345701135C423.5,399.9701345701135,423.5,328.1595868029935,846,328.1595868029935" stroke-width="0.011946171954604547" style="stroke: rgb(191, 105, 179);"></path>-->
<!--</g>-->
<!--<g class="nodes" font-family="Arial, Helvetica" font-size="10">-->
<!--<g>-->
<!--<rect x="0" y="205.55883489687633" height="37.893257440005755" width="1" fill="#000"></rect>-->
<!--<text x="7" y="224.5054636168792" dy="0.35em" text-anchor="start">Colonized</text>-->
<!--</g>-->
<!--<g>-->
<!--<rect x="0" y="346.4193106356066" height="33.04311162643616" width="1" fill="#000"></rect>-->
<!--<text x="7" y="362.9408664488247" dy="0.35em" text-anchor="start">France</text>-->
<!--</g>-->
<!--<g>-->
<!--<rect x="0" y="253.4520923368821" height="37.42735673377598" width="1" fill="#000"></rect>-->
<!--<text x="7" y="272.1657707037701" dy="0.35em" text-anchor="start">Germany</text>-->
<!--</g>-->
<!--<g>-->
<!--<rect x="0" y="2.842170943040401e-14" height="195.5588348968763" width="1" fill="#000"></rect>-->
<!--<text x="7" y="97.77941744843818" dy="0.35em" text-anchor="start">Independent</text>-->
<!--</g><g><rect x="0" y="399.9641614841362" height="0.0358385158638157" width="1" fill="#000"></rect><text x="7" y="399.9820807420681" dy="0.35em" text-anchor="start">Italy</text></g><g><rect x="0" y="389.46242226204276" height="0.5017392220934198" width="1" fill="#000"></rect><text x="7" y="389.7132918730895" dy="0.35em" text-anchor="start">Spain</text></g><g><rect x="0" y="300.8794490706581" height="35.539861564948524" width="1" fill="#000"></rect><text x="7" y="318.64937985313236" dy="0.35em" text-anchor="start">United Kingdom</text></g><g><rect x="846" y="184.97768876708483" height="72.42964056076728" width="1" fill="#000"></rect><text x="840" y="221.19250904746846" dy="0.35em" text-anchor="end">France</text></g><g><rect x="846" y="102.5241558624084" height="72.45353290467642" width="1" fill="#000"></rect><text x="840" y="138.75092231474662" dy="0.35em" text-anchor="end">Germany</text></g><g><rect x="846" y="267.4073293278521" height="60.758230561118694" width="1" fill="#000"></rect><text x="840" y="297.78644460841144" dy="0.35em" text-anchor="end">Italy</text></g><g><rect x="846" y="338.1655598889708" height="51.83444011102915" width="1" fill="#000"></rect><text x="840" y="364.08277994448537" dy="0.35em" text-anchor="end">Spain</text></g><g><rect x="846" y="10.000000000000057" height="82.52415586240835" width="1" fill="#000"></rect><text x="840" y="51.26207793120423" dy="0.35em" text-anchor="end">United Kingdom</text>-->
<!--</g>-->
<!--</g>-->
<!--</g>-->
<!--</svg>-->
<!--</div>-->
<h2>Language</h2>
<script>

    //Overview
    d3.json("json/world-110m2.json", function(error, map) {


        var width = 900,
            height = 600;


        // var sliceCounter=[1975,43,1976,38,1977,37,1978,30,1979,38,1980,47,1981,46,1982,45,1983,48,1984,52,1985,49,1986,52,
        //                   1987,51,1988,57,1989,65,1990,67,1991,67,1992,72,1993,78,1994,78,1995,77,1996,81,1997,88,1998,94,
        //                   1999,98,2000,102,2001,100,2002,98,2003,98,2004,104,2005,99,2006,105,2007,99,2008,101,2009,104,
        //                   2010,104,2011,104,2012,102,2013,102,2014,106,2015,104,2016,101,2017,102];

        var Counter = 1;
        var reset = "false"


        // load and display the cities
        d3.csv("./data/animations.csv", function(error, data) {


            var projection = d3.geo.mercator()
                .scale(165)
                .translate([width / 2, height / 2])
                .rotate([0, 0])
                .center([0, 25])



            var svg = d3.select("body").select("#overview1").append("svg")
                .attr("width", width)
                .attr("height", height)

            var g = svg.append("g");

            g.append("path")
                .datum(topojson.feature(map, map.objects.countries))
                .attr("d", d3.geo.path().projection(projection))
                .attr("stroke","#fff")
                .attr("stroke-width",0.2);

            var reset = "false";

            function europeTime(k)
            {

                var svg = d3.select("body").select("#overview1").select("svg")
                    .attr("width", width)
                    .attr("height", height);


                var g = svg.append("g");


                var datanew = data.slice(sliceCounter[k])

                d3.select("body").select("#timer")
                    .data(datanew)
                    .text(function(d)
                    {
                        return (d.Year)
                    });

                g.selectAll("circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d) {
                        return projection([d.longitude, d.latitude])[0];
                    })
                    .attr("cy", function(d) {
                        return projection([d.longitude, d.latitude])[1];
                    })
                    .attr("r", 8)
                    .attr("fill", "#4CAF50")
                    .attr("opacity", 0.04)



                if (sliceCounter[k] < 20000)
                {
                    setTimeout(
                        function() {
                            if (reset == "false") {
                                k = k + 1;
                                //j = k+sliceCounter[k+1];
                                console.log(k)
                                europeTime(k
                                    //k+20
                                )
                                //g.selectAll("circle").remove()
                            } else {
                                Counter = 0;
                            }
                        }, 300)

                }

            }

            d3.select('#worldMapRun').on('click', function() {
                reset = "false";
                europeTime(1)
            });

            d3.select('#worldMapReset').on('click', function() {
                reset = "true";
                d3.select("body").select("#overview1").selectAll("circle").remove();
                Counter = 0;
                d3.select("body").select("#timer")
                    .style('font-size', function(d) {
                        return "40px"
                    })
                    .text("1975")
            });

        });

    });


    //overview
    d3.json("./json/world-110m2.json", function(error, map) {

        var width = 1000,
            height = 600;

        var tip = d3.tip()
            .attr('class', 'd3-tip')
            .offset([-10, 0])
            .html(function(d) {
                return "<div style='color:white; background: cyan; opacity: 0.9; padding: 10px;'>" + "Birth Country: " + d.Country + "<br>Number: " + d.Number +"</div>";
            })

        var projection = d3.geo.mercator()
            .scale(172)
            .translate([width / 2, height / 2])
            .rotate([0, 0])
            .center([0, 25])

        var svg = d3.select("body").select("#overview2").append("svg")
            .attr("width", width)
            .attr("height", height);


        var g = svg.append("g");


        g.append("path")
            .datum(topojson.feature(map, map.objects.countries))
            .attr("d", d3.geo.path().projection(projection))
            .attr("stroke","#fff")
            .attr("stroke-width",0.2);

        svg.call(tip);

        // load data
        d3.csv("./data/overview.csv", function(error, data) {
            g.selectAll("circle")
                .data(data)
                .enter()
                .append("circle")
                .attr("cx", function(d) {
                    return projection([d.longitude, d.latitude])[0];
                })
                .attr("cy", function(d) {
                    return projection([d.longitude, d.latitude])[1];
                })
                .attr("r", function(d) {
                    return (d.Number * 0.02)
                })
                .attr("fill", function(d) {
                    return "#36D7B7"
                })
                .attr("opacity", 0.80)
                .on("mouseover", tip.show)
                .on("mouseout", tip.hide);
        });

    })
</script>
</body>
</html>